---
layout: ""
page_title: "Provider: Satori"
description: |-
The Satori provider provides resources to interact with the Satori management API.
---

# Satori Provider

The Satori provider provides resources to interact with the Satori management API.

A service account must be created for Terraform.

## Example Usage

```terraform
provider "satori" {
  #can be provided via environment variable: SATORI_SA
  service_account = "522fb8ab-8d7b-4498-b39d-6911e2839253"
  #can be provided via environment variable: SATORI_SA_KEY
  service_account_key = "OZhw6ImBHXWMf51oICtfMoSYmm8gq9VxbYZTZjzaSO5NT0EHxbopnpLBuXQJo6aS"
  #satori account id for all resources in this terraform
  satori_account = "7cb42d6f-4d74-46c2-86c3-718116c1f5a1"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `satori_account` (String) Your Satori account ID.

### Optional

- `jwt_folder_path` (String) Allows to override the default file system folder where the JWT token is stored. Relevant if `reuse_jwt` is set to true.
- `reuse_jwt` (Boolean) Terraform provider generates a JWT token on each run. For frequent terraform runs, this option allows token storage in the file system and reusing it if valid. The usage of this option should be carefully considered as it may lead to token leak. Defaults to `false`.
- `service_account` (String) Service account ID with administrative privileges. Can be specified with the `SATORI_SA` environment variable.
- `service_account_key` (String, Sensitive) Service account key. Can be specified with the `SATORI_SA_KEY` environment variable.
- `url` (String) Defaults to `https://app.satoricyber.com`.
- `verify_tls` (Boolean) Defaults to `true`.

## Resource Dependency Notes

Some of Satori resources have references to other resources, for example, `satori_dataset` dependent on `satori_datastore`.
In this case, the `satori_dataset` resource must be created after the `satori_datastore` resource and destroyed before the `satori_datastore` resource.

In some cases, when the dependent resource should be replaced, for example, replace `satori_datastore` `A` with `satori_datastore` `B` while the `satori_datastore` `A` should be destroyed in the same cycle,
additional `lifecycle` attribute should be added to the `satori_dataset` resource to ensure that the `satori_dataset` resource is updated before the `satori_datastore` `A` resource is destroyed.

For example:
```terraform
  lifecycle {
    create_before_destroy = true
  }
```

More info can be found here: https://github.com/hashicorp/terraform/blob/main/docs/destroying.md#resource-replacement

**Note:**
Pay attention that lifecycle attribute should be applied to the dependent resource, and it has to be applied prior to actual change.
