---
layout: ""
page_title: "satori_data_access_controller (Data Source)"
description: |-
satori_data_access_controller data source allows finding DAC details by its region, cloud provider, type and ID.
---

# satori_data_access_controller (Data Source)

The **satori_data_access_controller** data source allows finding DAC details by its region, cloud provider, type and ID.

## Example Usage

```terraform
locals {
  dataaccess_controller_id = "<assigned dataaccess_controller_id>"
}

data "satori_data_access_controller" "public_dac" {
  type = "PUBLIC"
  region = "<assigned region>"
  cloud_provider = "<assigned cloud provider>"
}

data "satori_data_access_controller" "private_dac" {
  type = "<assigned type - PRIVATE | PRIVATE_MANAGED>"
  id = "<assigned id>"
}

resource "satori_datastore" "datastore0" {
  name                     = "exampleDatastore"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = local.dataaccess_controller_id
  type                     = "SNOWFLAKE"
  origin_port              = 8081
  baseline_security_policy {
    unassociated_queries_category {
      query_action = "PASS"
    }
    unsupported_queries_category {
      query_action = "PASS"
    }
    exclusions {
    }
  }
  network_policy {}
}

resource "satori_datastore" "datastore_with_ignore_password_update" {
  // lifecycle.ignore_changes should be used after first time creation in order to ignore password update as API does not return it.
  name                     = "exampleDatastore"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = data.satori_data_access_controller.public_dac.id
  type                     = "SNOWFLAKE"
  origin_port              = 8081
  satori_auth_settings {
    enabled = true
    credentials {
      password = "*********"
      username = "adminuser"
    }
  }
  lifecycle {
    ignore_changes = [
      satori_auth_settings.0.credentials.0.password
    ]
  }
  network_policy {}
}

// Example of creating a datastore with personal access token enabled
// Personal access token is used to authenticate with the datastore using a personal access token instead of temporary credentials.
// The personal access token requires the satori_auth_settings to be enabled. and also requires the Personal Access Token feature to be enabled for the account (Account Setting page on Satori platform).
resource "satori_datastore" "datastore_with_personal_access_token_enabled" {
  name                     = "example_datastore_pat_enabled"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = data.satori_data_access_controller.public_dac.id
  type                     = "SNOWFLAKE"
  origin_port              = 8081
  satori_auth_settings {
    enabled = true
    credentials {
      password = "*********"
      username = "adminuser"
    }
    enable_personal_access_token = true
  }
  lifecycle {
    ignore_changes = [
      satori_auth_settings.0.credentials.0.password
    ]
  }
  network_policy {}
}

resource "satori_datastore" "datastore_with_iam_role_credentials" {
  name                     = "example_datastore_iam_role_credentials"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = data.satori_data_access_controller.public_dac.id
  type                     = "ATHENA"
  project_ids              = [ "123456789123" ]
  satori_auth_settings {
    enabled = true
    credentials {
      type = "AWS_IAM_ROLE"
      aws_service_role_arn = "arn:aws:iam::123456789123:role/SatoriServiceRole"
    }
    enable_personal_access_token = true
  }
  network_policy {}
}

resource "satori_datastore" "datastore_with_private_dac" {
  // lifecycle.ignore_changes should be used after first time creation in order to ignore password update as API does not return it.
  name                     = "exampleDatastore"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = data.satori_data_access_controller.private_dac.id
  type                     = "SNOWFLAKE"
  origin_port              = 8081
  lifecycle {
    ignore_changes = [
      satori_auth_settings.0.credentials.0.password
    ]
  }
  network_policy {}
}

resource "satori_datastore" "mongodb_datastore" {
  name                     = "mongoExample"
  hostname                 = "mongo.example.mongodb.net"
  dataaccess_controller_id = data.satori_data_access_controller.public_dac.id
  type                     = "MONGO"
  datastore_settings {
    deployment_type = "MONGODB_SRV"
  }
  network_policy {}
}

# output of generated id for newly created datastore
output "datastore_created_id" {
  value = satori_datastore.datastore0.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `type` (String) DAC's type. The available values are: PRIVATE, PRIVATE_MANAGED or PUBLIC.

### Optional

- `cloud_provider` (String) DAC's cloud provider.
- `id` (String) DAC's ID.
- `region` (String) DAC's region.

### Read-Only

- `ips` (List of String) DAC's IPs list.