---
layout: ""
page_title: "satori_datstore (Resource)"
description: |-
satori_datastore resource allows defining datastore(s)
---

# satori_datastore (Resource)

Satori provides the ability to connect to broad range of data stores repositories.
The **satori_datastore** resource allows lifecycle management for the datastores.

## Example Usage

```terraform
locals {
  dataaccess_controller_id = "<assigned dataaccess_controller_id>"
}
resource "satori_datastore" "datastore0" {
  name                     = "exampleDatastore"
  hostname                 = "data.source.target.hostname"
  dataaccess_controller_id = local.dataaccess_controller_id
  type                     = "SNOWFLAKE"
  origin_port              = 8081
  baseline_security_policy {
    unassociated_queries_category {
      query_action = "PASS"
    }
    unsupported_queries_category {
      query_action = "PASS"
    }
    exclusions {
    }
  }
  network_policy {}
}

# output of generated id for newly created datastore
output "datastore_created_id" {
  value = satori_datastore.datastore0.id
}
```
```terraform
locals {
  dataaccess_controller_id = "<assigned dataaccess_controller_id>"
}

resource "satori_datastore" "datastore0" {
  name = "exampleDatastore"

  dataaccess_controller_id = local.dataaccess_controller_id
  # data source specific connection settings
  type                     = "BIGQUERY"
  project_ids              = ["abc", "cdf"] #  BigQuery affected project ids
  hostname                 = "data source target hostname"
  origin_port              = 8081 # data source server's ip
  ####### BASELINE_POLICY SETTINGS #########
  baseline_security_policy {

    unassociated_queries_category {
      query_action = "REDACT" #Allowed: PASS┃REDACT┃BLOCK
    }
    unsupported_queries_category {
      query_action = "REDACT"
    }
    exclusions {

      excluded_identities {
        identity_type = "USER"
        identity      = "user1"
      }
      excluded_identities {
        identity_type = "USER"
        identity      = "user2"
      }
      excluded_query_patterns {
        pattern = ".*a.*"
      }
      excluded_query_patterns {
        pattern = ".*b.*"
      }
    }
  }
  network_policy {
    allowed_rules {
      note = "desc1"
      ip_ranges {
        ip_range = "1.1.1.0/24"
      }
      ip_ranges {
        ip_range = "3.2.3.1"
      }
    }
    blocked_rules {
      note = "desc3"
      ip_ranges {
        ip_range = "1.1.1.0/30"
      }
      ip_ranges {
        ip_range = "3.2.3.3"
      }
    }
  }


output "datastore_created_id" {
  value = satori_datastore.datastore0.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **baseline_security_policy** (Block List, Min: 1, Max: 1) Baseline security policy. (see [below for nested schema](#nestedblock--baseline_security_policy))
- **dataaccess_controller_id** (String) Host FQDN name.
- **hostname** (String) Data provider's FQDN hostname.
- **name** (String) DataStore name.
- **type** (String) IDs of Satori users that will be set as DataStore owners.

### Optional

- **custom_ingress_port** (Number) Custom ingress port number description.
- **network_policy** (Block List) A network Policy for a Data Store (see [below for nested schema](#nestedblock--network_policy))
- **origin_port** (Number) Port number description.
- **project_ids** (Set of String) ProjectIds list of project IDs

### Read-Only

- **id** (String) DataStore resource id.

<a id="nestedblock--baseline_security_policy"></a>
### Nested Schema for `baseline_security_policy`

Required:

- **exclusions** (Block List, Min: 1, Max: 1) Exempt users and patterns from baseline security policy (see [below for nested schema](#nestedblock--baseline_security_policy--exclusions))
- **unassociated_queries_category** (Block List, Min: 1, Max: 1) UnassociatedQueriesCategory (see [below for nested schema](#nestedblock--baseline_security_policy--unassociated_queries_category))
- **unsupported_queries_category** (Block List, Min: 1, Max: 1) UnsupportedQueriesCategory (see [below for nested schema](#nestedblock--baseline_security_policy--unsupported_queries_category))

Optional:

- **type** (String) DataStore basepolicy . Defaults to `BASELINE_POLICY`.

<a id="nestedblock--baseline_security_policy--exclusions"></a>
### Nested Schema for `baseline_security_policy.exclusions`

Optional:

- **excluded_identities** (Block List) Exempt Users from the Baseline Security Policy (see [below for nested schema](#nestedblock--baseline_security_policy--exclusions--excluded_identities))
- **excluded_query_patterns** (Block List) Exempt Queries from the Baseline Security Policy (see [below for nested schema](#nestedblock--baseline_security_policy--exclusions--excluded_query_patterns))

<a id="nestedblock--baseline_security_policy--exclusions--excluded_identities"></a>
### Nested Schema for `baseline_security_policy.exclusions.excluded_identities`

Optional:

- **identity** (String) Username
- **identity_type** (String) USER type is supported


<a id="nestedblock--baseline_security_policy--exclusions--excluded_query_patterns"></a>
### Nested Schema for `baseline_security_policy.exclusions.excluded_query_patterns`

Optional:

- **pattern** (String) Query pattern



<a id="nestedblock--baseline_security_policy--unassociated_queries_category"></a>
### Nested Schema for `baseline_security_policy.unassociated_queries_category`

Optional:

- **query_action** (String) Default policy action for querying locations that are not associated with a dataset, modes supported:  PASS┃REDACT┃BLOCK.


<a id="nestedblock--baseline_security_policy--unsupported_queries_category"></a>
### Nested Schema for `baseline_security_policy.unsupported_queries_category`

Required:

- **query_action** (String) Default policy action for unsupported queries and objects, modes supported:  PASS┃REDACT┃BLOCK



<a id="nestedblock--network_policy"></a>
### Nested Schema for `network_policy`

Optional:

- **allowed_rules** (Block List) Allowed Ip Rules (see [below for nested schema](#nestedblock--network_policy--allowed_rules))
- **blocked_rules** (Block List) Blocked Ips Rules (see [below for nested schema](#nestedblock--network_policy--blocked_rules))

<a id="nestedblock--network_policy--allowed_rules"></a>
### Nested Schema for `network_policy.allowed_rules`

Optional:

- **ip_ranges** (Block List) Defines IP addresses or CIDR ranges allowed to access the datastore (see [below for nested schema](#nestedblock--network_policy--allowed_rules--ip_ranges))
- **note** (String) custom description for allowed IP ranges

<a id="nestedblock--network_policy--allowed_rules--ip_ranges"></a>
### Nested Schema for `network_policy.allowed_rules.ip_ranges`

Required:

- **ip_range** (String) Range (IP or CIDR)



<a id="nestedblock--network_policy--blocked_rules"></a>
### Nested Schema for `network_policy.blocked_rules`

Optional:

- **ip_ranges** (Block List) Defines IP addresses or CIDR ranges allowed to access the datastore (see [below for nested schema](#nestedblock--network_policy--blocked_rules--ip_ranges))
- **note** (String) custom description for blocked IP ranges

<a id="nestedblock--network_policy--blocked_rules--ip_ranges"></a>
### Nested Schema for `network_policy.blocked_rules.ip_ranges`

Required:

- **ip_range** (String) Range (IP or CIDR)